# xx = {
#     "code": 0,
#     "data": {
#         "count": 23,
#         "page": 1,
#         "size": 10,
#         "num_pages": 3,
#         "result": {
#             "data": [
#                 {
#                     "id": 13,
#                     "created_at": "2021-08-23 15:30:08",
#                     "updated_at": "2022-04-14 23:03:22",
#                     "data": {
#                         "hostname": "dt101.suoerops.com",
#                         "cpu_model": "E5-2658AV3",
#                         "manage_ip": "172.16.0.101",
#                         "os_version": "Linux",
#                         "os_platform": "Centos 7",
#                         "mainboard_sn": "9000406789071",
#                         "device_status": "上线",
#                         "mainboard_model": "PowerEdge R730",
#                         "cpu_logical_count": 48,
#                         "cpu_physical_count": 24,
#                         "mainboard_manufacturer": "Dell PowerEdge"
#                     },
#                     "ban_bind": false,
#                     "created_by": null,
#                     "updated_by": null,
#                     "classify": 6
#                 },
#                 {
#                     "id": 14,
#                     "created_at": "2021-08-23 15:32:51",
#                     "updated_at": "2022-04-14 23:03:22",
#                     "data": {
#                         "hostname": "dt102.suoerops.com",
#                         "cpu_model": "E5-2658AV3",
#                         "manage_ip": "172.16.0.102",
#                         "os_version": "Linux",
#                         "os_platform": "Centos 7",
#                         "mainboard_sn": "9000406789072",
#                         "device_status": "上线",
#                         "mainboard_model": "PowerEdge R730",
#                         "cpu_logical_count": 48,
#                         "cpu_physical_count": 24,
#                         "mainboard_manufacturer": "Dell PowerEdge"
#                     },
#                     "ban_bind": false,
#                     "created_by": null,
#                     "updated_by": null,
#                     "classify": 6
#                 },
#                 {
#                     "id": 15,
#                     "created_at": "2021-08-23 15:33:03",
#                     "updated_at": "2022-04-14 23:03:22",
#                     "data": {
#                         "hostname": "dt103.suoerops.com",
#                         "cpu_model": "E5-2658AV3",
#                         "manage_ip": "172.16.0.103",
#                         "os_version": "Linux",
#                         "os_platform": "Centos 7",
#                         "mainboard_sn": "9000406789073",
#                         "device_status": "上线",
#                         "mainboard_model": "PowerEdge R730",
#                         "cpu_logical_count": 48,
#                         "cpu_physical_count": 24,
#                         "mainboard_manufacturer": "Dell PowerEdge"
#                     },
#                     "ban_bind": false,
#                     "created_by": null,
#                     "updated_by": null,
#                     "classify": 6
#                 },
#                 {
#                     "id": 16,
#                     "created_at": "2021-08-23 15:33:15",
#                     "updated_at": "2022-04-14 23:03:22",
#                     "data": {
#                         "hostname": "dt104.suoerops.com",
#                         "cpu_model": "E5-2658AV3",
#                         "manage_ip": "172.16.0.104",
#                         "os_version": "Linux",
#                         "os_platform": "Centos 7",
#                         "mainboard_sn": "9000406789074",
#                         "device_status": "上线",
#                         "mainboard_model": "PowerEdge R730",
#                         "cpu_logical_count": 48,
#                         "cpu_physical_count": 24,
#                         "mainboard_manufacturer": "Dell PowerEdge"
#                     },
#                     "ban_bind": false,
#                     "created_by": null,
#                     "updated_by": null,
#                     "classify": 6
#                 },
#                 {
#                     "id": 17,
#                     "created_at": "2021-08-23 15:33:25",
#                     "updated_at": "2022-04-14 23:03:22",
#                     "data": {
#                         "hostname": "dt105.suoerops.com",
#                         "cpu_model": "E5-2658AV3",
#                         "manage_ip": "172.16.0.105",
#                         "os_version": "Linux",
#                         "os_platform": "Centos 7",
#                         "mainboard_sn": "9000406789075",
#                         "device_status": "上线",
#                         "mainboard_model": "PowerEdge R730",
#                         "cpu_logical_count": 48,
#                         "cpu_physical_count": 24,
#                         "mainboard_manufacturer": "Dell PowerEdge"
#                     },
#                     "ban_bind": false,
#                     "created_by": null,
#                     "updated_by": null,
#                     "classify": 6
#                 },
#                 {
#                     "id": 18,
#                     "created_at": "2021-08-23 15:33:34",
#                     "updated_at": "2022-04-14 23:03:22",
#                     "data": {
#                         "hostname": "dt106.suoerops.com",
#                         "cpu_model": "E5-2658AV3",
#                         "manage_ip": "172.16.0.106",
#                         "os_version": "Linux",
#                         "os_platform": "Centos 7",
#                         "mainboard_sn": "9000406789076",
#                         "device_status": "上线",
#                         "mainboard_model": "PowerEdge R730",
#                         "cpu_logical_count": 48,
#                         "cpu_physical_count": 24,
#                         "mainboard_manufacturer": "Dell PowerEdge"
#                     },
#                     "ban_bind": false,
#                     "created_by": null,
#                     "updated_by": null,
#                     "classify": 6
#                 },
#                 {
#                     "id": 19,
#                     "created_at": "2021-08-23 15:33:46",
#                     "updated_at": "2022-04-14 23:03:22",
#                     "data": {
#                         "hostname": "dt107.suoerops.com",
#                         "cpu_model": "E5-2658AV3",
#                         "manage_ip": "172.16.0.107",
#                         "os_version": "Linux",
#                         "os_platform": "Centos 7",
#                         "mainboard_sn": "9000406789077",
#                         "device_status": "上线",
#                         "mainboard_model": "PowerEdge R730",
#                         "cpu_logical_count": 48,
#                         "cpu_physical_count": 24,
#                         "mainboard_manufacturer": "Dell PowerEdge"
#                     },
#                     "ban_bind": false,
#                     "created_by": null,
#                     "updated_by": null,
#                     "classify": 6
#                 },
#                 {
#                     "id": 20,
#                     "created_at": "2021-08-23 15:33:56",
#                     "updated_at": "2022-04-14 23:03:22",
#                     "data": {
#                         "hostname": "dt108.suoerops.com",
#                         "cpu_model": "E5-2658AV3",
#                         "manage_ip": "172.16.0.108",
#                         "os_version": "Linux",
#                         "os_platform": "Centos 7",
#                         "mainboard_sn": "9000406789078",
#                         "device_status": "上线",
#                         "mainboard_model": "PowerEdge R730",
#                         "cpu_logical_count": 48,
#                         "cpu_physical_count": 24,
#                         "mainboard_manufacturer": "Dell PowerEdge"
#                     },
#                     "ban_bind": false,
#                     "created_by": null,
#                     "updated_by": null,
#                     "classify": 6
#                 },
#                 {
#                     "id": 21,
#                     "created_at": "2021-08-23 15:34:05",
#                     "updated_at": "2022-04-14 23:03:22",
#                     "data": {
#                         "hostname": "dt109.suoerops.com",
#                         "cpu_model": "E5-2658AV3",
#                         "manage_ip": "172.16.0.109",
#                         "os_version": "Linux",
#                         "os_platform": "Centos 7",
#                         "mainboard_sn": "9000406789079",
#                         "device_status": "上线",
#                         "mainboard_model": "PowerEdge R730",
#                         "cpu_logical_count": 48,
#                         "cpu_physical_count": 24,
#                         "mainboard_manufacturer": "Dell PowerEdge"
#                     },
#                     "ban_bind": false,
#                     "created_by": null,
#                     "updated_by": null,
#                     "classify": 6
#                 },
#                 {
#                     "id": 22,
#                     "created_at": "2021-08-23 15:34:25",
#                     "updated_at": "2022-04-14 23:03:22",
#                     "data": {
#                         "hostname": "dt110.suoerops.com",
#                         "cpu_model": "E5-2658AV3",
#                         "manage_ip": "172.16.0.110",
#                         "os_version": "Linux",
#                         "os_platform": "Centos 7",
#                         "mainboard_sn": "90004067890601",
#                         "device_status": "上线",
#                         "mainboard_model": "PowerEdge R730",
#                         "cpu_logical_count": 48,
#                         "cpu_physical_count": 24,
#                         "mainboard_manufacturer": "Dell PowerEdge"
#                     },
#                     "ban_bind": false,
#                     "created_by": null,
#                     "updated_by": null,
#                     "classify": 6
#                 }
#             ],
#             "fields": {
#                 "hostname": {
#                     "guid": true,
#                     "name": "主机名",
#                     "order": 0
#                 },
#                 "cpu_model": {
#                     "guid": false,
#                     "name": "CPU型号",
#                     "order": 9
#                 },
#                 "manage_ip": {
#                     "guid": false,
#                     "name": "管理IP",
#                     "order": 1
#                 },
#                 "os_version": {
#                     "guid": false,
#                     "name": "系统版本",
#                     "order": 2
#                 },
#                 "os_platform": {
#                     "guid": false,
#                     "name": "操作系统",
#                     "order": 3
#                 },
#                 "mainboard_sn": {
#                     "guid": false,
#                     "name": "SN",
#                     "order": 4
#                 },
#                 "device_status": {
#                     "guid": false,
#                     "name": "状态",
#                     "order": 10
#                 },
#                 "mainboard_model": {
#                     "guid": false,
#                     "name": "主板型号",
#                     "order": 6
#                 },
#                 "cpu_logical_count": {
#                     "guid": false,
#                     "name": "逻辑CPU",
#                     "order": 8
#                 },
#                 "cpu_physical_count": {
#                     "guid": false,
#                     "name": "物理CPU",
#                     "order": 7
#                 },
#                 "mainboard_manufacturer": {
#                     "guid": false,
#                     "name": "主板制造商",
#                     "order": 5
#                 }
#             },
#             "rules": {
#                 "hostname": {
#                     "lens": 100,
#                     "type": "Str",
#                     "unique": true,
#                     "not_null": true
#                 },
#                 "cpu_model": {
#                     "lens": 64,
#                     "type": "Str"
#                 },
#                 "manage_ip": {
#                     "type": "IP"
#                 },
#                 "os_version": {
#                     "lens": 32,
#                     "type": "Str"
#                 },
#                 "os_platform": {
#                     "lens": 64,
#                     "type": "Str"
#                 },
#                 "mainboard_sn": {
#                     "lens": 100,
#                     "type": "Str"
#                 },
#                 "device_status": {
#                     "type": "Choices",
#                     "default": "上线",
#                     "select_list": [
#                         "上线",
#                         "下线",
#                         "维护"
#                     ]
#                 },
#                 "mainboard_model": {
#                     "lens": 64,
#                     "type": "Str"
#                 },
#                 "cpu_logical_count": {
#                     "type": "Int"
#                 },
#                 "cpu_physical_count": {
#                     "type": "Int"
#                 },
#                 "mainboard_manufacturer": {
#                     "lens": 128,
#                     "type": "Str"
#                 }
#             },
#             "patent_classify_name": "服务器",
#             "classify_name": "物理服务器",
#             "classify_id": 6
#         }
#     },
#     "message": null
# }

"""
b'{"status":"success","data":{"resultType":"vector","result":[{
"metric":{"instance":"10.211.55.11:9100"},"value":[1652354512.438,"0.0352661778010571"]},{"metric":{"instance":"10.211.55.12:9100"},"value":[1652354512.438,"0.007216986971924879"]}]}}'
b'{"status":"success","data":{"resultType":"vector","result":[
{"metric":{"__name__":"up","app":"alertmanager","dev":"prod","instance":"10.211.55.12:9093","job":"alertmanager","lob":"ops"},
"value":[1652354588.6,"1"]},
{"metric":{"__name__":"up","app":"mysql","department":"all","env":"test","instance":"10.211.55.11:9100","job":"nodes","project":"all"},
"value":[1652354588.6,"1"]},{"metric":{"__name__":"up","app":"nginx","department":"ops","env":"prod","instance":"10.211.55.12:9100","job":"nodes","project":"pgoops"},
"value":[1652354588.6,"1"]},{"metric":{"__name__":"up","instance":"localhost:9090","job":"prometheus"},"value":[1652354588.6,"1"]}]}}'
"""
url = "http://10.211.55.11:9090/api/v1/query?query=sum by (instance) (rate(node_disk_read_bytes_total[2m])) / 1024 / 1024 "
url = "http://10.211.55.11:9090/api/v1/query?query=up ==1"
import requests

xxx = requests.get(url)
